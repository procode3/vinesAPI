(function(){"use strict";var M={};(function(){M.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return M.d(r,{a:r}),r}})(),function(){M.d=function(e,r){for(var n in r)M.o(r,n)&&!M.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:r[n]})}}(),function(){M.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)}}(),function(){M.r=function(e){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}();var W={};M.r(W),M.d(W,{AnErrorOccurred:function(){return en},AppInfoContext:function(){return re},AppInfoProvider:function(){return oe},AppInfosContext:function(){return Mn},AppInfosProvider:function(){return Cn},AutoReloadOverlayBlockerContext:function(){return He},AutoReloadOverlayBlockerProvider:function(){return qt},CheckPagePermissions:function(){return yn},CheckPermissions:function(){return En},ConfirmDialog:function(){return Se},ContentBox:function(){return Sn},ContentManagerEditViewDataManagerContext:function(){return Ft},CustomFieldsContext:function(){return Ge},CustomFieldsProvider:function(){return Dt},DateTimePicker:function(){return In},DynamicTable:function(){return xn},EmptyBodyTable:function(){return Et},EmptyStateLayout:function(){return yt},FilterListURLQuery:function(){return _n},FilterPopoverURLQuery:function(){return $n},Form:function(){return wn},GenericInput:function(){return Nn},GuidedTourContext:function(){return Je},GuidedTourProvider:function(){return Ke},InjectionZone:function(){return Yn},LibraryContext:function(){return Ze},LibraryProvider:function(){return jt},Link:function(){return zn},LinkButton:function(){return Wn},LoadingIndicatorPage:function(){return vt},NoContent:function(){return Vn},NoMedia:function(){return Qn},NoPermissions:function(){return Hn},NotAllowedInput:function(){return Jn},NotificationsContext:function(){return ce},NotificationsProvider:function(){return at},OverlayBlockerContext:function(){return Xe},OverlayBlockerProvider:function(){return Bt},PageSizeURLQuery:function(){return Kn},PaginationURLQuery:function(){return Zn},RBACContext:function(){return pe},RBACProviderContext:function(){return tn},ReactSelect:function(){return sr},RelativeTime:function(){return ir},RemoveRoundedButton:function(){return jr},SearchURLQuery:function(){return lr},SettingsPageTitle:function(){return ur},SortIcon:function(){return bt},Status:function(){return pr},StopPropagation:function(){return po},StrapiAppContext:function(){return je},StrapiAppProvider:function(){return Ct},TrackingContext:function(){return Ce},TrackingProvider:function(){return Me},auth:function(){return z},contentManagementUtilRemoveFieldsFromData:function(){return Nr},difference:function(){return Hr},findMatchingPermissions:function(){return ht},formatContentTypeData:function(){return Ur},getAPIInnerErrors:function(){return Gr},getFetchClient:function(){return ge},getFileExtension:function(){return Jr},getOtherInfos:function(){return Q},getType:function(){return ie},getYupInnerErrors:function(){return Zr},hasPermissions:function(){return he},normalizeAPIError:function(){return et},onRowClick:function(){return uo},prefixFileUrlWithBackendUrl:function(){return Xr},prefixPluginTranslations:function(){return eo},pxToRem:function(){return j},request:function(){return lo},setHexOpacity:function(){return co},stopPropagation:function(){return Ht},to:function(){return Yr},translatedErrors:function(){return fo},useAPIErrorHandler:function(){return Lr},useAppInfo:function(){return Re},useAppInfos:function(){return Rn},useAutoReloadOverlayBlocker:function(){return yr},useCMEditViewDataManager:function(){return fr},useCallbackRef:function(){return ot},useClipboard:function(){return Pr},useCollator:function(){return Yt},useCustomFields:function(){return Er},useFetchClient:function(){return zt},useFilter:function(){return kr},useFocusWhenNavigate:function(){return xr},useGuidedTour:function(){return br},useLibrary:function(){return Tr},useLockScroll:function(){return _r},useNotification:function(){return de},useOverlayBlocker:function(){return Ir},usePersistentState:function(){return Or},useQuery:function(){return Fr},useQueryParams:function(){return U},useRBAC:function(){return qr},useRBACProvider:function(){return X},useSelectionState:function(){return Ar},useStrapiApp:function(){return Mt},useTracking:function(){return J},wrapAxiosInstance:function(){return go}});var Zt=require("lodash/get"),V=M.n(Zt);const ie=(e,r)=>V()(e,["attributes",r,"type"],""),Q=(e,r)=>V()(e,["attributes",...r],"");var p=require("react"),s=M.n(p),d=require("@strapi/design-system"),L=require("@strapi/icons"),Xt=require("prop-types"),t=M.n(Xt),P=require("react-intl");const le=({content:e,...r})=>{const{formatMessage:n}=(0,P.useIntl)();return s().createElement(d.EmptyStateLayout,{icon:s().createElement(L.ExclamationMarkCircle,{width:"10rem"}),content:n({id:e.id,defaultMessage:e.defaultMessage},e.values),...r})};le.defaultProps={content:{id:"anErrorOccurred",defaultMessage:"Woops! Something went wrong. Please, try again.",values:{}}},le.propTypes={content:t().shape({id:t().string,defaultMessage:t().string,values:t().object})};var en=le,_=require("react-router-dom"),Z=require("@strapi/design-system/v2");const ot=e=>{const r=p.useRef(e);return p.useEffect(()=>{r.current=e}),p.useMemo(()=>(...n)=>r.current?.(...n),[])};/**
 * @preserve
 * @typedef {Object} NotificationLink
 * @property {string | import('react-intl').MessageDescriptor} label
 * @property {string | undefined} target
 * @property {string} url
 *//**
 * @preserve
 * @typedef {Object} NotificationConfig
 * @property {boolean | undefined} blockTransition
 * @property {NotificationLink} link
 * @property {string | import('react-intl').MessageDescriptor | undefined} message
 * @property {() => void | undefined} onClose
 * @property {number | undefined} timeout
 * @property {string | import('react-intl').MessageDescriptor | undefined} title
 * @property {"info" | "warning" | "softWarning" | "success" | undefined} type
 *//**
 * @preserve
 * @typedef {Object} NotificationsContextValue
 * @property {(config: NotificationConfig) => void} toggleNotification – Toggles a notification, wrapped in `useCallback` for a stable identity.
 */const ce=p.createContext(),at=({children:e})=>{const r=p.useRef(0),[n,o]=p.useState([]),a=p.useCallback(({type:i,message:u,link:m,timeout:f,blockTransition:g,onClose:h,title:v})=>{o(y=>[...y,{id:r.current++,type:i,message:u,link:m,timeout:f,blockTransition:g,onClose:h,title:v}])},[]),l=p.useCallback(i=>{o(u=>u.filter(m=>m.id!==i))},[]),c=p.useMemo(()=>({toggleNotification:a}),[a]);return p.createElement(ce.Provider,{value:c},p.createElement(d.Flex,{left:"50%",marginLeft:"-250px",position:"fixed",direction:"column",alignItems:"stretch",gap:2,top:`${46/16}rem`,width:`${500/16}rem`,zIndex:10},n.map(i=>p.createElement(ue,{key:i.id,...i,clearNotification:l}))),e)};at.propTypes={children:t().node.isRequired};const ue=({id:e,clearNotification:r,message:n,link:o,type:a,onClose:l,timeout:c,blockTransition:i,title:u})=>{const{formatMessage:m}=(0,P.useIntl)(),f=ot(l),g=p.useCallback(()=>{f(),r(e)},[r,e,f]);p.useEffect(()=>{if(!i){const y=setTimeout(()=>{g()},c);return()=>{clearTimeout(y)}}},[i,g,c]);let h,v;return a==="info"?(h="default",v=m({id:"notification.default.title",defaultMessage:"Information:"})):a==="warning"?(h="danger",v=m({id:"notification.warning.title",defaultMessage:"Warning:"})):a==="softWarning"?(h="warning",v=m({id:"notification.warning.title",defaultMessage:"Warning:"})):(h="success",v=m({id:"notification.success.title",defaultMessage:"Success:"})),u&&(v=typeof u=="string"?u:m({id:u?.id||u,defaultMessage:u?.defaultMessage||u?.id||u},u?.values)),p.createElement(d.Alert,{action:o?p.createElement(Z.Link,{href:o.url,isExternal:!0},m({id:o.label?.id||o.label,defaultMessage:o.label?.defaultMessage||o.label?.id||o.label})):void 0,onClose:g,closeLabel:m({id:"global.close",defaultMessage:"Close"}),title:v,variant:h},m({id:n?.id||n,defaultMessage:n?.defaultMessage||n?.id||n},n?.values))};ue.defaultProps={blockTransition:!1,link:void 0,onClose:void 0,message:{id:"notification.success.saved",defaultMessage:"Saved"},timeout:2500,title:void 0,type:"success"},ue.propTypes={id:t().number.isRequired,clearNotification:t().func.isRequired,message:t().oneOfType([t().string,t().shape({id:t().string.isRequired,defaultMessage:t().string,values:t().object})]),link:t().shape({target:t().string,url:t().string.isRequired,label:t().oneOfType([t().string,t().shape({id:t().string.isRequired,defaultMessage:t().string,values:t().object})]).isRequired}),type:t().string,onClose:t().func,timeout:t().number,blockTransition:t().bool,title:t().oneOfType([t().string,t().shape({id:t().string.isRequired,defaultMessage:t().string,values:t().object})])};/**
 * @preserve
 * @description Returns an object to interact with the notification
 * system. The callbacks are wrapped in `useCallback` for a stable
 * identity.
 *
 * @returns {NotificationsContextValue}
 *
 * @example
 * ```tsx
 * import { useNotification } from '@strapi/helper-plugin';
 *
 * const MyComponent = () => {
 *  const { toggleNotification } = useNotification();
 *
 *  return <button onClick={() => toggleNotification({ message: 'Hello world!' })}>Click me</button>;
 */const de=()=>p.useContext(ce).toggleNotification;/**
 * @preserve
 * @typedef {Object} Permission
 * @property {string} action
 * @property {unknown[]} conditions
 * @property {number} id
 * @property {Record<string, unknown>} properties
 * @property {string} subject
 *//**
 * @preserve
 * @typedef {import('react-query').QueryObserverBaseResult<Permission[]>['refetch']} RefetchPermissionsFn
 *//**
 * @preserve
 * @typedef {Object} RBACContextValue
 * @property {Permission[]} allPermissions – The permissions of the current user.
 * @property {RefetchPermissionsFn} refetchPermissions
 *//**
 * @preserve
 * @type {React.Context<RBACContextValue>}
 */const pe=p.createContext(),tn=pe;/**
 * @preserve
 * @returns {RBACContextValue}
 */const X=()=>p.useContext(pe);var nn=require("lodash/isEmpty"),ee=M.n(nn),rn=require("lodash/pickBy"),on=M.n(rn),an=require("lodash/transform"),st=M.n(an),it=require("axios"),lt=M.n(it),sn=require("lodash/isNil"),ct=M.n(sn);const te="jwtToken",fe="userInfo",ut="GUIDED_TOUR_CURRENT_STEP",dt="GUIDED_TOUR_COMPLETED_STEPS",pt="GUIDED_TOUR_SKIPPED",ft="STRAPI_THEME",mt="STRAPI_UPLOAD_MODAL_VIEW",gt="STRAPI_UPLOAD_LIBRARY_VIEW",me=JSON.parse,H=JSON.stringify,D={clear(e){return localStorage&&localStorage.getItem(e)?localStorage.removeItem(e):sessionStorage&&sessionStorage.getItem(e)?sessionStorage.removeItem(e):null},clearAppStorage(){if(localStorage){const e=D.get("videos"),r=D.get("onboarding"),n=D.get("STRAPI_UPDATE_NOTIF"),o=localStorage.getItem("strapi-admin-language"),a=D.get(ut),l=D.get(dt),c=me(localStorage.getItem(pt)),i=localStorage.getItem(ft),u=localStorage.getItem(gt),m=localStorage.getItem(mt);localStorage.clear(),localStorage.setItem("videos",JSON.stringify(e)),localStorage.setItem("onboarding",r),localStorage.setItem("STRAPI_UPDATE_NOTIF",n),localStorage.setItem("strapi-admin-language",o),localStorage.setItem(ut,H(a)),localStorage.setItem(dt,H(l)),localStorage.setItem(pt,H(c)),localStorage.setItem(ft,i),!ct()(u)&&localStorage.setItem(gt,u),!ct()(m)&&localStorage.setItem(mt,m)}sessionStorage&&sessionStorage.clear()},clearToken(e=te){return D.clear(e)},clearUserInfo(e=fe){return D.clear(e)},get(e){return localStorage&&localStorage.getItem(e)?me(localStorage.getItem(e))||null:sessionStorage&&sessionStorage.getItem(e)&&me(sessionStorage.getItem(e))||null},getToken(e=te){return D.get(e)},getUserInfo(e=fe){return D.get(e)},set(e,r,n){return ee()(e)?null:n&&localStorage?localStorage.setItem(r,H(e)):sessionStorage?sessionStorage.setItem(r,H(e)):null},setToken(e="",r=!1,n=te){return D.set(e,n,r)},setUserInfo(e="",r=!1,n=fe){return D.set(e,n,r)},updateToken(e=""){const r=localStorage&&localStorage.getItem(te);return D.setToken(e,r)}};var z=D;const ln=async e=>(e.headers={Authorization:`Bearer ${z.getToken()}`},e),cn=e=>Promise.reject(e),un=e=>e,dn=e=>{throw e?.response?.status===401&&(z.clearAppStorage(),window.location.reload()),e},pn=e=>{e.interceptors.request.use(ln,cn),e.interceptors.response.use(un,dn)};var G=(()=>{const e=lt().create({headers:{Accept:"application/json","Content-Type":"application/json"}});return pn(e),e})();const fn=e=>typeof e=="string"&&e.charAt(0)!=="/"?`/${e}`:e,mn=e=>new RegExp("^(?:[a-z+]+:)?//","i").test(e),ne=e=>mn(e)?e:fn(e);var ge=(e={})=>(G.defaults.baseURL=window.strapi.backendURL,{get:(r,n)=>G.get(ne(r),{...e,...n}),put:(r,n,o)=>G.put(ne(r),n,{...e,...o}),post:(r,n,o)=>G.post(ne(r),n,{...e,...o}),del:(r,n)=>G.delete(ne(r),{...e,...n})});const ht=(e,r)=>st()(e,(n,o)=>{r.find(l=>l.action===o.action&&l.subject===o.subject)&&n.push(o)},[]),gn=e=>e.map(r=>on()(r,(n,o)=>["action","subject"].includes(o)&&!ee()(n))),hn=e=>!ee()(e)&&e.every(r=>!ee()(r.conditions));var he=async(e,r,n)=>{if(!r||!r.length)return!0;const o=ht(e,r);if(hn(o)){let a=!1;try{const{data:{data:l}}=await ge().post("/admin/permissions/check",{permissions:gn(o)},{signal:n});a=l.every(c=>c===!0)}catch(l){console.error("Error while checking permissions",l)}return a}return o.length>0},ve=require("styled-components"),w=M.n(ve);const vn=w()(d.Flex)`
  height: 100vh;
`,ye=({"data-testid":e,children:r})=>s().createElement(vn,{justifyContent:"space-around","data-testid":e},s().createElement(d.Loader,null,r));ye.defaultProps={"data-testid":"loader",children:"Loading content."},ye.propTypes={"data-testid":t().string,children:t().string};var vt=ye;const Ee=({permissions:e,children:r})=>{const n=new AbortController,{signal:o}=n,{allPermissions:a}=X(),l=de(),[c,i]=(0,p.useState)({isLoading:!0,canAccess:!1}),u=(0,p.useRef)(!0);return(0,p.useEffect)(()=>((async()=>{try{i({isLoading:!0,canAccess:!1});const f=await he(a,e,o);u.current&&i({isLoading:!1,canAccess:f})}catch(f){u.current&&(console.error(f),l({type:"warning",message:{id:"notification.error"}}),i({isLoading:!1}))}})(),()=>{n.abort()}),[e]),(0,p.useEffect)(()=>()=>{u.current=!1},[]),c.isLoading?s().createElement(vt,null):c.canAccess?r:s().createElement(_.Redirect,{to:"/"})};Ee.defaultProps={permissions:[]},Ee.propTypes={children:t().node.isRequired,permissions:t().array};var yn=Ee;const be=({permissions:e,children:r})=>{const{allPermissions:n}=X(),o=de(),[a,l]=(0,p.useState)({isLoading:!0,canAccess:!1}),c=(0,p.useRef)(!0),i=new AbortController,{signal:u}=i;return(0,p.useEffect)(()=>((async()=>{try{l({isLoading:!0,canAccess:!1});const f=await he(n,e,u);c.current&&l({isLoading:!1,canAccess:f})}catch(f){c.current&&(console.error(f),o({type:"warning",message:{id:"notification.error"}}),l({isLoading:!1}))}})(),()=>{i.abort()}),[e]),(0,p.useEffect)(()=>()=>{c.current=!1},[]),a.isLoading||!a.canAccess?null:r};be.defaultProps={permissions:[]},be.propTypes={children:t().node.isRequired,permissions:t().array};var En=be;const Te=({bodyText:e,iconRightButton:r,iconBody:n,isConfirmButtonLoading:o,leftButtonText:a,onToggleDialog:l,onConfirm:c,rightButtonText:i,title:u,variantRightButton:m,...f})=>{const{formatMessage:g}=(0,P.useIntl)();return s().createElement(d.Dialog,{onClose:l,title:g({id:u.id,defaultMessage:u.defaultMessage}),labelledBy:"confirmation",describedBy:"confirm-description",...f},s().createElement(d.DialogBody,{icon:n},s().createElement(d.Flex,{direction:"column",alignItems:"stretch",gap:2},s().createElement(d.Flex,{justifyContent:"center"},s().createElement(d.Typography,{variant:"omega",id:"confirm-description"},g({id:e.id,defaultMessage:e.defaultMessage}))))),s().createElement(d.DialogFooter,{startAction:s().createElement(d.Button,{onClick:l,variant:"tertiary"},g({id:a.id,defaultMessage:a.defaultMessage})),endAction:s().createElement(d.Button,{onClick:c,variant:m,startIcon:r,id:"confirm-delete",loading:o},g({id:i.id,defaultMessage:i.defaultMessage}))}))};Te.defaultProps={bodyText:{id:"components.popUpWarning.message",defaultMessage:"Are you sure you want to delete this?"},iconBody:s().createElement(L.ExclamationMarkCircle,null),iconRightButton:s().createElement(L.Trash,null),isConfirmButtonLoading:!1,leftButtonText:{id:"app.components.Button.cancel",defaultMessage:"Cancel"},rightButtonText:{id:"app.components.Button.confirm",defaultMessage:"Confirm"},title:{id:"app.components.ConfirmDialog.title",defaultMessage:"Confirmation"},variantRightButton:"danger-light"},Te.propTypes={bodyText:t().shape({id:t().string,defaultMessage:t().string}),iconBody:t().node,iconRightButton:t().node,isConfirmButtonLoading:t().bool,onConfirm:t().func.isRequired,onToggleDialog:t().func.isRequired,leftButtonText:t().shape({id:t().string,defaultMessage:t().string}),rightButtonText:t().shape({id:t().string,defaultMessage:t().string}),title:t().shape({id:t().string,defaultMessage:t().string}),variantRightButton:t().string};var Se=Te;const bn=w()(d.Flex)`
  margin-right: ${({theme:e})=>e.spaces[6]};

  svg {
    width: ${32/16}rem;
    height: ${32/16}rem;
  }
`,Tn=w()(d.Typography)`
  word-break: break-all;
`,Ie=({title:e,subtitle:r,icon:n,iconBackground:o,endAction:a,titleEllipsis:l})=>(e.length>70&&l&&(e=`${e.substring(0,70)}...`),s().createElement(d.Flex,{shadow:"tableShadow",hasRadius:!0,padding:6,background:"neutral0"},s().createElement(bn,{background:o,hasRadius:!0,padding:3},n),s().createElement(d.Flex,{direction:"column",alignItems:"stretch",gap:a?0:1},s().createElement(d.Flex,null,s().createElement(Tn,{fontWeight:"semiBold",variant:"pi"},e),a),s().createElement(d.Typography,{textColor:"neutral600"},r))));Ie.defaultProps={titleEllipsis:!1,title:void 0,subtitle:void 0,icon:void 0,iconBackground:void 0,endAction:void 0},Ie.propTypes={titleEllipsis:t().bool,title:t().string,subtitle:t().string,icon:t().node,iconBackground:t().string,endAction:t().node};var Sn=Ie;function In(e){return(0,p.useEffect)(()=>{},[]),s().createElement(d.DateTimePicker,{...e})}/**
 * @preserve
 * @typedef {Object} AppInfoContextValue
 * @property {boolean | undefined} autoReload
 * @property {boolean | undefined} communityEdition
 * @property {string | undefined} currentEnvironment
 * @property {Record<string, string>} dependencies
 * @property {string | null} latestStrapiReleaseTag
 * @property {string | undefined} nodeVersion
 * @property {string | undefined} projectId
 * @property {(name: string) => void} setUserDisplayName
 * @property {boolean} shouldUpdateStrapi
 * @property {string | undefined} strapiVersion
 * @property {boolean | undefined} useYarn
 * @property {string} userDisplayName
 * @property {string | null} userId
 *
 *//**
 * @preserve
 * @type {React.Context<AppInfoContextValue>}
 */const re=p.createContext(),oe=({children:e,autoReload:r,communityEdition:n,currentEnvironment:o,dependencies:a,latestStrapiReleaseTag:l,nodeVersion:c,projectId:i,setUserDisplayName:u,shouldUpdateStrapi:m,strapiVersion:f,useYarn:g,userDisplayName:h,userId:v})=>{const y=p.useMemo(()=>({autoReload:r,communityEdition:n,currentEnvironment:o,dependencies:a,latestStrapiReleaseTag:l,nodeVersion:c,projectId:i,setUserDisplayName:u,shouldUpdateStrapi:m,strapiVersion:f,useYarn:g,userDisplayName:h,userId:v}),[r,n,o,a,l,c,i,u,m,f,g,h,v]);return p.createElement(re.Provider,{value:y},e)};oe.defaultProps={autoReload:void 0,communityEdition:void 0,currentEnvironment:void 0,dependencies:void 0,latestStrapiReleaseTag:void 0,nodeVersion:void 0,projectId:void 0,strapiVersion:void 0,useYarn:void 0,userId:null},oe.propTypes={children:t().node.isRequired,autoReload:t().bool,communityEdition:t().bool,currentEnvironment:t().string,dependencies:t().object,latestStrapiReleaseTag:t().string,nodeVersion:t().string,projectId:t().string,setUserDisplayName:t().func.isRequired,shouldUpdateStrapi:t().bool.isRequired,strapiVersion:t().string,useYarn:t().bool,userDisplayName:t().string.isRequired,userId:t().string};/**
 * @preserve
 * @returns {AppInfoContextValue}
 */const Re=()=>p.useContext(re);/**
 * @preserve
 * @deprecated use useAppInfo instead
 */const Rn=Re;/**
 * @preserve
 * @deprecated use AppInfoProvider instead
 */const Cn=oe;/**
 * @preserve
 * @deprecated use AppInfoContext instead
 */const Mn=re;/**
 * @preserve
 * @typedef {Object} TelemetryProperties
 * @property {boolean} useTypescriptOnServer
 * @property {boolean} useTypescriptOnAdmin
 * @property {boolean} isHostedOnStrapiCloud
 * @property {number} numberOfAllContentTypes
 * @property {number} numberOfComponents
 * @property {number} numberOfDynamicZones
 *//**
 * @preserve
 * @typedef {Object} TrackingContextValue
 * @property {string | boolean} uuid
 * @property {string | undefined} deviceId
 * @property {TelemetryProperties | undefined} telemetryProperties
 *//**
 * @preserve
 * @type {React.Context<TrackingContextValue>}
 */const Ce=p.createContext({uuid:!1,deviceId:void 0,telemetryProperties:void 0}),Me=({value:e,children:r})=>{const n=p.useMemo(()=>e,[e]);return p.createElement(Ce.Provider,{value:n},r)};Me.propTypes={children:t().node.isRequired,value:t().shape({uuid:t().oneOfType([t().string,t().bool]),deviceId:t().string,telemetryProperties:t().object})},Me.defaultProps={value:{deviceId:void 0,uuid:!1,telemetryProperties:void 0}};/**
 * @preserve
 * @typedef {(event: string, properties: Record<string, any>) => Promise<void>} TrackUsageFn
 *//**
 * @preserve
 * @description Used to send amplitude events to the Strapi Tracking hub.
 *
 * @returns {{trackUsage: TrackUsageFn}}
 *
 * @example
 * ```tsx
 * import { useTracking } from '@strapi/helper-plugin';
 *
 * const MyComponent = () => {
 *  const { trackUsage } = useTracking();
 *
 *  const handleClick = () => {
 *   trackUsage('my-event', { myProperty: 'myValue' });
 *  }
 *
 *  return <button onClick={handleClick}>Send Event</button>
 * }
 * ```
 */const J=()=>{const{uuid:e,telemetryProperties:r,deviceId:n}=p.useContext(Ce),a=Re()?.userId;return{trackUsage:p.useCallback(async(c,i)=>{try{if(e&&!window.strapi.telemetryDisabled)return await lt().post("https://analytics.strapi.io/api/v2/track",{event:c,userId:a,deviceId:n,eventProperties:{...i},userProperties:{},groupProperties:{...r,projectId:e,projectType:window.strapi.projectType}},{headers:{"Content-Type":"application/json","X-Strapi-Event":c}})}catch{}return null},[n,r,a,e])}};var Le=require("qs"),U=e=>{const{search:r}=(0,_.useLocation)(),{push:n}=(0,_.useHistory)(),o=(0,p.useMemo)(()=>{const l=r.substring(1);return r?(0,Le.parse)(l):e},[r,e]),a=(0,p.useCallback)((l,c="push")=>{let i={...o};c==="remove"?Object.keys(l).forEach(u=>{delete i[u]}):i={...o,...l},n({search:(0,Le.stringify)(i,{encode:!1})})},[n,o]);return[{query:o,rawQuery:r},a]};const Ln={document:L.EmptyDocuments,media:L.EmptyPictures,permissions:L.EmptyPermissions},Pe=({action:e,content:r,hasRadius:n,icon:o,shadow:a})=>{const l=Ln[o],{formatMessage:c}=(0,P.useIntl)();return s().createElement(d.EmptyStateLayout,{action:e,content:c({id:r.id,defaultMessage:r.defaultMessage},r.values),hasRadius:n,icon:s().createElement(l,{width:"10rem"}),shadow:a})};Pe.defaultProps={action:void 0,content:{id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found",values:{}},hasRadius:!0,icon:"document",shadow:"tableShadow"},Pe.propTypes={action:t().any,content:t().shape({id:t().string,defaultMessage:t().string,values:t().object}),hasRadius:t().bool,icon:t().oneOf(["document","media","permissions"]),shadow:t().string};var yt=Pe;const ke=({colSpan:e,isLoading:r,...n})=>r?s().createElement(d.Tbody,null,s().createElement(d.Tr,null,s().createElement(d.Td,{colSpan:e},s().createElement(d.Flex,{justifyContent:"center"},s().createElement(d.Box,{padding:11,background:"neutral0"},s().createElement(d.Loader,null,"Loading content...")))))):s().createElement(d.Tbody,null,s().createElement(d.Tr,null,s().createElement(d.Td,{colSpan:e},s().createElement(yt,{...n,hasRadius:!1,shadow:""}))));ke.defaultProps={action:void 0,colSpan:1,content:void 0,icon:void 0,isLoading:!1},ke.propTypes={action:t().any,colSpan:t().number,content:t().shape({id:t().string,defaultMessage:t().string,values:t().object}),icon:t().oneOf(["document","media","permissions"]),isLoading:t().bool};var Et=ke;const Pn={isUp:!0},xe=w()(L.CarretDown).withConfig({shouldForwardProp:(e,r)=>!Pn[e]&&r(e)})`
  transform: ${({isUp:e})=>`rotate(${e?"180":"0"}deg)`};
`;xe.defaultProps={isUp:!1},xe.propTypes={isUp:t().bool};var bt=xe;const _e=({areAllEntriesSelected:e,entriesToDelete:r,headers:n,onSelectAll:o,withMainAction:a,withBulkActions:l})=>{const{formatMessage:c}=(0,P.useIntl)(),[{query:i},u]=U(),m=i?.sort||"",[f,g]=m.split(":"),h=!e&&r.length>0;return s().createElement(d.Thead,null,s().createElement(d.Tr,null,a&&s().createElement(d.Th,null,s().createElement(d.BaseCheckbox,{"aria-label":c({id:"global.select-all-entries",defaultMessage:"Select all entries"}),checked:e,indeterminate:h,onChange:o})),n.map(({fieldSchema:v,name:y,metadatas:{sortable:T,label:R,mainField:b}})=>{let S=f===y;const E=g==="ASC";v?.type==="relation"&&b&&(S=f===`${y.split(".")[0]}[${b.name}]`);const x=c({id:"components.TableHeader.sort",defaultMessage:"Sort on {label}"},{label:R}),O=(k=!0)=>{if(T&&k){let C=y;v?.type==="relation"&&b&&(C=`${y.split(".")[0]}[${b.name}]`),u({sort:`${C}:${S&&g==="ASC"?"DESC":"ASC"}`})}};return s().createElement(d.Th,{key:y,action:S&&s().createElement(d.IconButton,{label:x,onClick:O,icon:S&&s().createElement(bt,{isUp:E}),noBorder:!0})},s().createElement(d.Tooltip,{label:T?x:R},s().createElement(d.Typography,{textColor:"neutral600",as:!S&&T?"button":"span",label:R,onClick:()=>O(!S),variant:"sigma"},R)))}),l&&s().createElement(d.Th,null,s().createElement(d.VisuallyHidden,null,c({id:"global.actions",defaultMessage:"Actions"})))))};_e.defaultProps={areAllEntriesSelected:!1,entriesToDelete:[],headers:[],withBulkActions:!1,withMainAction:!1},_e.propTypes={areAllEntriesSelected:t().bool,entriesToDelete:t().arrayOf(t().oneOfType([t().string,t().number])),headers:t().array,onSelectAll:t().func.isRequired,withBulkActions:t().bool,withMainAction:t().bool};var kn=_e;const Oe=({action:e,children:r,contentType:n,components:o,footer:a,headers:l,isLoading:c,onConfirmDeleteAll:i,onConfirmDelete:u,onOpenDeleteAllModalTrackedEvent:m,rows:f,withBulkActions:g,withMainAction:h,renderBulkActionsBar:v,...y})=>{const[T,R]=(0,p.useState)([]),[b,S]=(0,p.useState)(!1),[E,x]=(0,p.useState)(!1),[O,k]=(0,p.useState)(!1),[{query:C}]=U(),{formatMessage:B}=(0,P.useIntl)(),{trackUsage:Y}=J(),F=f.length+1,$=l.length+(g?1:0)+(h?1:0),N=C?.filters!==void 0,I=T.length===f.length&&f.length>0,q=N?{id:"content-manager.components.TableEmpty.withFilters",defaultMessage:"There are no {contentType} with the applied filters...",values:{contentType:n}}:void 0,K=async()=>{try{k(!0),await i(T),ae(),R([]),k(!1)}catch{k(!1),ae()}},nt=async()=>{try{k(!0),await u(T[0]),se(),k(!1)}catch{k(!1),se()}},rt=()=>{R(I?[]:f.map(A=>A.id))},ae=()=>{!b&&m&&Y(m),S(A=>!A)},se=()=>{E&&R([]),x(A=>!A)},ho=A=>{R([A]),se()},vo=({name:A,value:To})=>{R(Kt=>To?Kt.concat(A):Kt.filter(So=>So!==A))},yo=()=>{R([])},Eo=o?.ConfirmDialogDeleteAll?o.ConfirmDialogDeleteAll:Se,bo=o?.ConfirmDialogDelete?o.ConfirmDialogDelete:Se;return s().createElement(s().Fragment,null,T.length>0&&s().createElement(d.Flex,{gap:3},s().createElement(d.Typography,{variant:"omega",textColor:"neutral500"},B({id:"content-manager.components.TableDelete.label",defaultMessage:"{number, plural, one {# entry} other {# entries}} selected"},{number:T.length})),v?v({selectedEntries:T,clearSelectedEntries:yo}):s().createElement(d.Button,{onClick:ae,startIcon:s().createElement(L.Trash,null),size:"L",variant:"danger-light"},B({id:"global.delete",defaultMessage:"Delete"}))),s().createElement(d.Table,{colCount:$,rowCount:F,footer:a},s().createElement(kn,{areAllEntriesSelected:I,entriesToDelete:T,headers:l,onSelectAll:rt,withMainAction:h,withBulkActions:g}),!f.length||c?s().createElement(Et,{colSpan:$,content:q,isLoading:c,action:e}):p.Children.toArray(r).map(A=>(0,p.cloneElement)(A,{entriesToDelete:T,onClickDelete:ho,onSelectRow:vo,headers:l,rows:f,withBulkActions:g,withMainAction:h,...y}))),s().createElement(Eo,{isConfirmButtonLoading:O,onConfirm:K,onToggleDialog:ae,isOpen:b}),s().createElement(bo,{isConfirmButtonLoading:O,onConfirm:nt,onToggleDialog:se,isOpen:E}))};Oe.defaultProps={action:void 0,children:void 0,components:{ConfirmDialogDeleteAll:void 0,ConfirmDialogDelete:void 0},footer:void 0,headers:[],isLoading:!1,onConfirmDeleteAll(){},onConfirmDelete(){},onOpenDeleteAllModalTrackedEvent:void 0,rows:[],withBulkActions:!1,withMainAction:!1,renderBulkActionsBar:void 0},Oe.propTypes={action:t().node,children:t().node,contentType:t().string.isRequired,components:t().shape({ConfirmDialogDelete:t().oneOfType([t().func,t().element]),ConfirmDialogDeleteAll:t().oneOfType([t().func,t().element])}),footer:t().node,headers:t().arrayOf(t().shape({cellFormatter:t().func,key:t().string.isRequired,metadatas:t().shape({label:t().string.isRequired,sortable:t().bool}).isRequired,name:t().string.isRequired})),isLoading:t().bool,onConfirmDeleteAll:t().func,onConfirmDelete:t().func,onOpenDeleteAllModalTrackedEvent:t().string,rows:t().array,withBulkActions:t().bool,withMainAction:t().bool,renderBulkActionsBar:t().func};var xn=Oe;const Tt=({attribute:e,filter:r,onClick:n,operator:o,value:a})=>{const{formatMessage:l,formatDate:c,formatTime:i,formatNumber:u}=(0,P.useIntl)(),m=()=>{n(r)},{fieldSchema:f}=e,g=f?.mainField?.schema?.type||f.type;let h=a;if(g==="date"&&(h=c(a,{dateStyle:"full"})),g==="datetime"&&(h=c(a,{dateStyle:"full",timeStyle:"short"})),g==="time"){const[y,T]=a.split(":"),R=new Date;R.setHours(y),R.setMinutes(T),h=i(R,{numeric:"auto",style:"short"})}["float","integer","biginteger","decimal"].includes(g)&&(h=u(a)),e.metadatas.customInput&&e.metadatas.options&&(h=e.metadatas.options.find(T=>T.customValue===a)?.label||a);const v=`${e.metadatas.label||e.name} ${l({id:`components.FilterOptions.FILTER_TYPES.${o}`,defaultMessage:o})} ${o!=="$null"&&o!=="$notNull"?h:""}`;return s().createElement(d.Box,{padding:1},s().createElement(d.Tag,{onClick:m,icon:s().createElement(L.Cross,null)},v))};Tt.propTypes={attribute:t().shape({name:t().string.isRequired,fieldSchema:t().object.isRequired,metadatas:t().shape({label:t().string.isRequired,options:t().array,customInput:t().func}).isRequired}).isRequired,filter:t().object.isRequired,onClick:t().func.isRequired,operator:t().string.isRequired,value:t().string.isRequired};var St=Tt;const Fe=({filtersSchema:e})=>{const[{query:r},n]=U(),o=a=>{const l=r.filters.$and.filter(c=>{const i=Object.keys(a)[0],u=Object.keys(a[i])[0],m=a[i][u];return c[i]?.[u]!==m});n({filters:{$and:l},page:1})};return r?.filters?.$and.map((a,l)=>{const c=Object.keys(a)[0],i=e.find(({name:g})=>g===c);if(!i)return null;if(i.fieldSchema.type==="relation"){const g=i.fieldSchema.mainField.name,h=a[c][g],v=Object.keys(h)[0],y=h[v];return s().createElement(St,{key:`${c}-${l}`,attribute:i,filter:a,onClick:o,operator:v,value:y})}const u=a[c],m=Object.keys(u)[0],f=u[m];return s().createElement(St,{key:`${c}-${l}`,attribute:i,filter:a,onClick:o,operator:m,value:f})})||null};Fe.defaultProps={filtersSchema:[]},Fe.propTypes={filtersSchema:t().arrayOf(t().shape({name:t().string.isRequired,metadatas:t().shape({label:t().string}),fieldSchema:t().shape({type:t().string,mainField:t().shape({name:t().string,type:t().string})})}))};var _n=Fe,On=require("date-fns/formatISO"),It=M.n(On);const $e=({label:e,onChange:r,options:n,type:o,value:a})=>{const{formatMessage:l}=(0,P.useIntl)();return o==="boolean"?s().createElement(d.Select,{"aria-label":e,onChange:r,value:a},s().createElement(d.Option,{value:"true"},"true"),s().createElement(d.Option,{value:"false"},"false")):o==="date"?s().createElement(d.DatePicker,{clearLabel:l({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datepicker",onChange:c=>r(It()(c,{representation:"date"})),onClear:()=>r(null),selectedDate:a?new Date(a):void 0,selectedDateLabel:c=>`Date picker, current is ${c}`}):o==="datetime"?s().createElement(d.DateTimePicker,{clearLabel:l({id:"clearLabel",defaultMessage:"Clear"}),ariaLabel:e,name:"datetimepicker",onChange:c=>r(c?c.toISOString():null),onClear:()=>r(null),value:a?new Date(a):void 0,selectedDateLabel:c=>`Date picker, current is ${c}`,selectButtonTitle:l({id:"selectButtonTitle",defaultMessage:"Select"})}):o==="enumeration"?s().createElement(d.Select,{"aria-label":e,onChange:r,value:a},n.map(c=>s().createElement(d.Option,{key:c,value:c},c))):["float","integer","biginteger","decimal"].includes(o)?s().createElement(d.NumberInput,{"aria-label":e,name:"filter-value",onValueChange:r,value:a||0}):o==="time"?s().createElement(d.TimePicker,{"aria-label":e,onClear:()=>r(""),onChange:r,value:a,clearLabel:"Clear the selected time picker value"}):s().createElement(d.Field,null,s().createElement(d.FieldInput,{"aria-label":l({id:"app.utils.filter-value",defaultMessage:"Filter value"}),onChange:({target:{value:c}})=>r(c),value:a,size:"M"}))};$e.defaultProps={label:"",options:[],value:""},$e.propTypes={label:t().string,onChange:t().func.isRequired,options:t().arrayOf(t().string),type:t().string.isRequired,value:t().any};var Fn=$e,qe=({fieldSchema:{type:e,mainField:r}})=>{switch(r?.schema?.type??e){case"email":case"text":case"enumeration":case"string":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains (sensitive)"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains (sensitive)"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$startsWith",defaultMessage:"starts with"},value:"$startsWith"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$endsWith",defaultMessage:"ends with"},value:"$endsWith"}];case"float":case"integer":case"biginteger":case"decimal":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"time":case"date":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$contains",defaultMessage:"contains (sensitive)"},value:"$contains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notContains",defaultMessage:"not contains (sensitive)"},value:"$notContains"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];case"datetime":return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gt",defaultMessage:"is greater than"},value:"$gt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$gte",defaultMessage:"is greater than or equal to"},value:"$gte"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lt",defaultMessage:"is less than"},value:"$lt"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$lte",defaultMessage:"is less than or equal to"},value:"$lte"}];default:return[{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$eq",defaultMessage:"is"},value:"$eq"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$ne",defaultMessage:"is not"},value:"$ne"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$null",defaultMessage:"is null"},value:"$null"},{intlLabel:{id:"components.FilterOptions.FILTER_TYPES.$notNull",defaultMessage:"is not null"},value:"$notNull"}]}};const we=({displayedFilters:e,isVisible:r,onBlur:n,onToggle:o,source:a})=>{const[{query:l},c]=U(),{formatMessage:i}=(0,P.useIntl)(),{trackUsage:u}=J(),m={fieldSchema:{type:"string"}},[f,g]=(0,p.useState)({name:e[0]?.name||"",filter:qe(e[0]||m)[0].value,value:""});if(!r||e.length===0)return null;const h=E=>{const x=e.find(Y=>Y.name===E),{fieldSchema:{type:O,options:k}}=x;let C="";O==="boolean"&&(C="true"),O==="enumeration"&&(C=k?.[0]);const B=qe(x)[0].value;g({name:E,filter:B,value:C})},v=E=>{E.preventDefault();const x=l?.filters?.$and.find(O=>O[f.name]&&O[f.name]?.[f.filter]===f.value)!==void 0;if(f.value&&!x){let O={[f.name]:{[f.filter]:f.value}};const k=e.find(({name:Y})=>Y===f.name),C=k.fieldSchema.type;k.trackedEvent&&u(k.trackedEvent.name,k.trackedEvent.properties),C==="relation"&&(O={[f.name]:{[k.fieldSchema.mainField.name]:{[f.filter]:f.value}}});const B=[...l?.filters?.$and||[],O];c({filters:{$and:B},page:1})}o()},y=E=>{if(E==="$null"||E==="$notNull"){g(x=>({...x,value:"true",filter:E}));return}g(x=>({...x,filter:E,value:""}))},T=e.find(E=>E.name===f.name),R=f.filter,b=T.metadatas.customOperators||qe(T),S=T.metadatas.customInput||Fn;return s().createElement(d.Popover,{source:a,onDismiss:o,padding:3,spacing:4,onBlur:n},s().createElement("form",{onSubmit:v},s().createElement(d.Flex,{direction:"column",alignItems:"stretch",gap:1,style:{minWidth:184}},s().createElement(qn,{direction:"column",alignItems:"stretch",gap:1},s().createElement(d.Select,{label:i({id:"app.utils.select-field",defaultMessage:"Select field"}),name:"name",size:"M",onChange:h,value:f.name},e.map(E=>s().createElement(d.Option,{key:E.name,value:E.name},E.metadatas.label))),s().createElement(d.Select,{label:i({id:"app.utils.select-filter",defaultMessage:"Select filter"}),name:"filter",size:"M",value:f.filter,onChange:y},b.map(E=>s().createElement(d.Option,{key:E.value,value:E.value},i(E.intlLabel))))),R!=="$null"&&R!=="$notNull"&&s().createElement(d.Box,null,s().createElement(S,{...T.metadatas,...T.fieldSchema,value:f.value,onChange:E=>g(x=>({...x,value:E}))})),s().createElement(d.Box,null,s().createElement(d.Button,{size:"L",variant:"secondary",startIcon:s().createElement(L.Plus,null),type:"submit",fullWidth:!0},i({id:"app.utils.add-filter",defaultMessage:"Add filter"}))))))};we.defaultProps={onBlur(){}},we.propTypes={displayedFilters:t().arrayOf(t().shape({name:t().string.isRequired,metadatas:t().shape({label:t().string}),fieldSchema:t().shape({type:t().string}),trackedEvent:t().shape({name:t().string.isRequired,properties:t().object})})).isRequired,isVisible:t().bool.isRequired,onBlur:t().func,onToggle:t().func.isRequired,source:t().shape({current:t().instanceOf(Element)}).isRequired};var $n=we;const qn=w()(d.Flex)`
  /* Hide the label, every input needs a label. */
  label {
    border: 0;
    clip: rect(0 0 0 0);
    height: 1px;
    margin: -1px;
    overflow: hidden;
    padding: 0;
    position: absolute;
    width: 1px;
  }
`;var Rt=require("formik"),wn=e=>{const r=(0,p.useRef)(null),{isSubmitting:n,isValidating:o,errors:a,touched:l}=(0,Rt.useFormikContext)();return(0,p.useEffect)(()=>{if(n&&!o){const c=r.current.querySelectorAll("[data-strapi-field-error]");if(c.length>0){const u=c[0].getAttribute("id"),m=r.current.querySelector(`[aria-describedby="${u}"]`);m&&m.focus()}}if(!n&&!o&&Object.keys(a).length){const c=document.getElementById("global-form-error");c&&c.focus()}},[a,n,o,l]),s().createElement(Rt.Form,{ref:r,...e,noValidate:!0})},An=e=>{if(!e)return{maximum:void 0,minimum:void 0};const{minLength:r,maxLength:n,max:o,min:a}=e;let l,c;const i=parseInt(a,10),u=parseInt(r,10);Number.isNaN(i)?Number.isNaN(u)||(l=u):l=i;const m=parseInt(o,10),f=parseInt(n,10);return Number.isNaN(m)?Number.isNaN(f)||(c=f):c=m,{maximum:c,minimum:l}},Dn=({type:e,minimum:r,maximum:n})=>{if(["biginteger","integer","number"].includes(e))return{};const o=Math.max(r||0,n||0);return{message:{id:"content-manager.form.Input.hint.character.unit",defaultMessage:"{maxValue, plural, one { character} other { characters}}"},values:{maxValue:o}}},jn=({description:e,fieldSchema:r,type:n})=>{const{formatMessage:o}=(0,P.useIntl)(),a=()=>e?.id?o({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"";return{hint:(()=>{const{maximum:c,minimum:i}=An(r),u=Dn({type:n,minimum:i,maximum:c}),m=typeof i=="number",f=typeof c=="number",g=f&&m,h=f||m;return!e?.id&&!h?"":o({id:"content-manager.form.Input.hint.text",defaultMessage:"{min, select, undefined {} other {min. {min}}}{divider}{max, select, undefined {} other {max. {max}}}{unit}{br}{description}"},{min:i,max:c,description:a(),unit:u?.message&&h?o(u.message,u.values):null,divider:g?o({id:"content-manager.form.Input.hint.minMaxDivider",defaultMessage:" / "}):null,br:h?s().createElement("br",null):null})})()}},j=e=>`${e/16}rem`;const Ae=({hint:e,label:r,labelAction:n,error:o,name:a,required:l})=>s().createElement(d.TextInput,{disabled:!0,error:o,label:r,labelAction:n,id:a,hint:e,name:a,onChange:()=>{},placeholder:"Not supported",required:l,type:"text",value:""});Ae.defaultProps={hint:null,error:void 0,labelAction:void 0,required:!1},Ae.propTypes={error:t().string,hint:t().string,label:t().string.isRequired,labelAction:t().element,name:t().string.isRequired,required:t().bool};var Bn=Ae;const De=({autoComplete:e,customInputs:r,description:n,disabled:o,intlLabel:a,labelAction:l,error:c,name:i,onChange:u,options:m,placeholder:f,required:g,step:h,type:v,value:y,isNullable:T,attribute:R,...b})=>{const{formatMessage:S}=(0,P.useIntl)(),{hint:E}=jn({description:n,fieldSchema:R,type:R?.type||v}),[x,O]=(0,p.useState)(!1),k=r?r[v]:null,C=y??void 0,B=C??"";function Y(I){if(!I)return null;const q={...I.values};return S(typeof I=="string"?{id:I,defaultMessage:I}:{id:I.id,defaultMessage:I?.defaultMessage??I.id},q)}const F=Y(c);if(k)return s().createElement(k,{...b,attribute:R,description:n,hint:E,disabled:o,intlLabel:a,labelAction:l,error:F,name:i,onChange:u,options:m,required:g,placeholder:f,type:v,value:C});const $=a.id?S({id:a.id,defaultMessage:a.defaultMessage},{...a.values}):i,N=f?S({id:f.id,defaultMessage:f.defaultMessage},{...f.values}):"";switch(v){case"json":return s().createElement(d.JSONInput,{label:$,labelAction:l,value:C,error:F,disabled:o,hint:E,required:g,onChange:I=>{const q=!R.required&&!I.length?null:I;u({target:{name:i,value:q}})},minHeight:j(252),maxHeight:j(504)});case"bool":{const I={clearLabel:T&&S({id:"app.components.ToggleCheckbox.clear-label",defaultMessage:"Clear"}),onClear:T&&(()=>{u({target:{name:i,value:null}})})};return s().createElement(d.ToggleInput,{checked:y===null?null:y||!1,disabled:o,hint:E,label:$,error:F,labelAction:l,name:i,offLabel:S({id:"app.components.ToggleCheckbox.off-label",defaultMessage:"False"}),onLabel:S({id:"app.components.ToggleCheckbox.on-label",defaultMessage:"True"}),onChange:q=>{u({target:{name:i,value:q.target.checked}})},required:g,...I})}case"checkbox":return s().createElement(d.Checkbox,{disabled:o,error:F,hint:E,id:i,name:i,onValueChange:I=>{u({target:{name:i,value:I}})},required:g,value:Boolean(C)},$);case"datetime":return s().createElement(d.DateTimePicker,{clearLabel:S({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:F,label:$,labelAction:l,id:i,hint:E,name:i,onChange:I=>{const q=I?I.toISOString():null;u({target:{name:i,value:q,type:v}})},step:h,onClear:()=>u({target:{name:i,value:null,type:v}}),placeholder:N,required:g,value:C?new Date(C):void 0});case"date":return s().createElement(d.DatePicker,{clearLabel:S({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:F,label:$,labelAction:l,id:i,hint:E,name:i,onChange:I=>{u({target:{name:i,value:It()(I,{representation:"date"}),type:v}})},onClear:()=>u({target:{name:i,value:null,type:v}}),placeholder:N,required:g,selectedDate:C?new Date(C):void 0,selectedDateLabel:I=>`Date picker, current is ${I}`});case"number":return s().createElement(d.NumberInput,{disabled:o,error:F,label:$,labelAction:l,id:i,hint:E,name:i,onValueChange:I=>u({target:{name:i,value:I,type:v}}),placeholder:N,required:g,step:h,value:C});case"email":return s().createElement(d.TextInput,{autoComplete:e,disabled:o,error:F,label:$,labelAction:l,id:i,hint:E,name:i,onChange:u,placeholder:N,required:g,type:"email",value:B});case"timestamp":case"text":case"string":return s().createElement(d.TextInput,{autoComplete:e,disabled:o,error:F,label:$,labelAction:l,id:i,hint:E,name:i,onChange:u,placeholder:N,required:g,type:"text",value:B});case"password":return s().createElement(d.TextInput,{autoComplete:e,disabled:o,error:F,endAction:s().createElement("button",{"aria-label":S({id:"Auth.form.password.show-password",defaultMessage:"Show password"}),onClick:()=>{O(I=>!I)},style:{border:"none",padding:0,background:"transparent"},type:"button"},x?s().createElement(d.Icon,{as:L.Eye,color:"neutral500"}):s().createElement(d.Icon,{as:L.EyeStriked,color:"neutral500"})),label:$,labelAction:l,id:i,hint:E,name:i,onChange:u,placeholder:N,required:g,type:x?"text":"password",value:B});case"select":return s().createElement(d.Select,{disabled:o,error:F,label:$,labelAction:l,id:i,hint:E,name:i,onChange:I=>u({target:{name:i,value:I,type:"select"}}),placeholder:N,required:g,value:C},m.map(({metadatas:{intlLabel:I,disabled:q,hidden:K},key:nt,value:rt})=>s().createElement(d.Option,{key:nt,value:rt,disabled:q,hidden:K},S(I))));case"textarea":return s().createElement(d.Textarea,{disabled:o,error:F,label:$,labelAction:l,id:i,hint:E,name:i,onChange:I=>u({target:{name:i,value:I.target.value,type:v}}),required:g,placeholder:N,type:v,value:B});case"time":{let I=C;if(C&&C.split(":").length>2){const[q,K]=C.split(":");I=`${q}:${K}`}return s().createElement(d.TimePicker,{clearLabel:S({id:"clearLabel",defaultMessage:"Clear"}),disabled:o,error:F,label:$,labelAction:l,id:i,hint:E,name:i,onChange:q=>{u({target:{name:i,value:`${q}`,type:v}})},onClear:()=>{u({target:{name:i,value:null,type:v}})},placeholder:N,required:g,step:h,value:I})}default:return s().createElement(Bn,{name:i,label:$,labelAction:l,hint:E,error:F,required:g})}};De.defaultProps={autoComplete:void 0,customInputs:null,description:null,disabled:!1,error:"",isNullable:void 0,labelAction:void 0,placeholder:null,required:!1,options:[],step:1,value:void 0,attribute:null},De.propTypes={autoComplete:t().string,customInputs:t().object,description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),attribute:t().object,disabled:t().bool,error:t().oneOfType([t().string,t().shape({id:t().string.isRequired,defaultMessage:t().string})]),intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,isNullable:t().bool,labelAction:t().element,name:t().string.isRequired,onChange:t().func.isRequired,options:t().arrayOf(t().shape({metadatas:t().shape({intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,disabled:t().bool,hidden:t().bool}).isRequired,key:t().oneOfType([t().string,t().number]).isRequired,value:t().oneOfType([t().string,t().number]).isRequired}).isRequired),placeholder:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),required:t().bool,step:t().number,type:t().string.isRequired,value:t().any};var Nn=De;/**
 * @preserve
 * @typedef {Object} MenuItem
 * @property {string} to
 * @property {React.ComponentType} icon
 * @property {import('react-intl').MessageDescriptor} intlLabel
 * @property {string[]} [permissions]
 * @property {React.ComponentType} [Component]
 *//**
 * @preserve
 * @typedef {Object} StrapiAppContextValue
 * @property {(pluginId: string) => unknown | undefined} getPlugin
 * @property {MenuItem[]} menu
 * @property {Record<string, unknown>} plugins
 * @property {(hookName: string) => Promise<unknown>} runHookParallel
 * @property {(hookName: string) => Promise<unknown>} runHookWaterfall
 * @property {(hookName: string) => Promise<unknown>} runHookSeries
 * @property {Record<string, unknown>} settings
 *//**
 * @preserve
 * @type {React.Context<StrapiAppContextValue>}
 */const je=p.createContext(),Ct=({children:e,getPlugin:r,menu:n,plugins:o,runHookParallel:a,runHookSeries:l,runHookWaterfall:c,settings:i})=>{const u=p.useMemo(()=>({getPlugin:r,menu:n,plugins:o,runHookParallel:a,runHookSeries:l,runHookWaterfall:c,settings:i}),[r,n,o,a,l,c,i]);return p.createElement(je.Provider,{value:u},e)};Ct.propTypes={children:t().node.isRequired,getPlugin:t().func.isRequired,menu:t().arrayOf(t().shape({to:t().string.isRequired,icon:t().func.isRequired,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired}).isRequired,permissions:t().array,Component:t().func})).isRequired,plugins:t().object.isRequired,runHookParallel:t().func.isRequired,runHookWaterfall:t().func.isRequired,runHookSeries:t().func.isRequired,settings:t().object.isRequired};/**
 * @preserve
 * @returns {StrapiAppContextValue}
 */const Mt=()=>p.useContext(je);var Un=e=>{const{getPlugin:r}=Mt(),[n,o,a]=e.split("."),l=r(n);return l?l.getInjectedComponents(o,a):null};const Lt=({area:e,...r})=>{const n=Un(e);return n?n.map(o=>s().createElement(o.Component,{key:o.name,...r})):null};Lt.propTypes={area:t().string.isRequired};var Yn=Lt,zn=e=>s().createElement(Z.Link,{...e,as:_.NavLink}),Wn=e=>s().createElement(Z.LinkButton,{...e,as:_.NavLink});const Be=({content:e,...r})=>{const{formatMessage:n}=(0,P.useIntl)();return s().createElement(d.EmptyStateLayout,{icon:s().createElement(L.EmptyDocuments,{width:"10rem"}),...r,content:n({id:e.id,defaultMessage:e.defaultMessage},e.values)})};Be.defaultProps={content:{id:"app.components.EmptyStateLayout.content-document",defaultMessage:"No content found",values:{}}},Be.propTypes={content:t().shape({id:t().string,defaultMessage:t().string,values:t().object})};var Vn=Be,Qn=e=>s().createElement(d.EmptyStateLayout,{icon:s().createElement(L.EmptyPictures,{width:"10rem"}),...e});const Ne=({action:e})=>{const{formatMessage:r}=(0,P.useIntl)();return s().createElement(d.EmptyStateLayout,{icon:s().createElement(L.EmptyPermissions,{width:"10rem"}),content:r({id:"app.components.EmptyStateLayout.content-permissions",defaultMessage:"You don't have the permissions to access that content"}),action:e})};Ne.defaultProps={action:void 0},Ne.propTypes={action:t().node};var Hn=Ne;const Gn=w()(L.EyeStriked)`
  > path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`,Ue=({description:e,intlLabel:r,labelAction:n,error:o,name:a})=>{const{formatMessage:l}=(0,P.useIntl)(),c=r.id?l({id:r.id,defaultMessage:r.defaultMessage},{...r.values}):a,i=e?l({id:e.id,defaultMessage:e.defaultMessage},{...e.values}):"",u=l({id:"components.NotAllowedInput.text",defaultMessage:"No permissions to see this field"}),m=o?l({id:o,defaultMessage:o}):"";return s().createElement(d.TextInput,{disabled:!0,error:m,label:c,labelAction:n,id:a,hint:i,name:a,onChange:()=>{},placeholder:u,startAction:s().createElement(Gn,null),type:"text",value:""})};Ue.defaultProps={description:null,error:"",labelAction:void 0},Ue.propTypes={description:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}),error:t().string,intlLabel:t().shape({id:t().string.isRequired,defaultMessage:t().string.isRequired,values:t().object}).isRequired,labelAction:t().element,name:t().string.isRequired};var Jn=Ue;const Ye=({trackedEvent:e,options:r,defaultValue:n})=>{const{formatMessage:o}=(0,P.useIntl)(),[{query:a},l]=U(),{trackUsage:c}=J(),i=m=>{e&&c(e),l({pageSize:m,page:1})},u=a?.pageSize||n;return s().createElement(d.Flex,null,s().createElement(d.Select,{size:"S","aria-label":o({id:"components.PageFooter.select",defaultMessage:"Entries per page"}),onChange:i,value:u},r.map(m=>s().createElement(d.Option,{key:m,value:m},m))),s().createElement(d.Box,{paddingLeft:2},s().createElement(d.Typography,{textColor:"neutral600",as:"label",htmlFor:"page-size"},o({id:"components.PageFooter.select",defaultMessage:"Entries per page"}))))};Ye.defaultProps={trackedEvent:null,options:["10","20","50","100"],defaultValue:"10"},Ye.propTypes={trackedEvent:t().string,options:t().arrayOf(t().string.isRequired),defaultValue:t().string};var Kn=Ye;const Pt=({pagination:{pageCount:e}})=>{const[{query:r}]=U(),n=parseInt(r?.page||"1",10),{pathname:o}=(0,_.useLocation)(),{formatMessage:a}=(0,P.useIntl)(),l=b=>(0,Le.stringify)({...r,page:b},{encode:!1}),c=l(n+(e>1?1:0)),i=l(n-1),u=[s().createElement(d.PageLink,{as:_.NavLink,key:1,number:1,to:`${o}?${l(1)}`},a({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:1}))];if(e<=4){const b=Array.from({length:e}).map((S,E)=>E+1).map(S=>s().createElement(d.PageLink,{as:_.NavLink,key:S,number:S,to:`${o}?${l(S)}`},a({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:S})));return s().createElement(d.Pagination,{activePage:n,pageCount:e},s().createElement(d.PreviousLink,{as:_.NavLink,to:`${o}?${i}`},a({id:"components.pagination.go-to-previous",defaultMessage:"Go to previous page"})),b,s().createElement(d.NextLink,{as:_.NavLink,to:`${o}?${c}`},a({id:"components.pagination.go-to-next",defaultMessage:"Go to next page"})))}let m=[],f=[],g=[];const h=[];e>1&&f.push(s().createElement(d.PageLink,{as:_.NavLink,key:e,number:e,to:`${o}?${l(e)}`},a({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:e}))),n===1&&e>=3&&(m=[2]),n===2&&e>=3&&(e===5?m=[2,3,4]:e===3?m=[2]:m=[2,3]),n===4&&e>=3&&(m=[2]),n===e&&e>=3&&(g=[e-1]),n===e-2&&e>3&&(g=[n+1,n,n-1]),n===e-3&&e>3&&n>5&&(g=[n+2,n+1,n,n-1]),n===e-1&&e>3&&(g=[n,n-1]),g.forEach(b=>{f.unshift(s().createElement(d.PageLink,{as:_.NavLink,key:b,number:b,to:`${o}?${l(b)}`},"Go to page ",b))}),m.forEach(b=>{u.push(s().createElement(d.PageLink,{as:_.NavLink,key:b,number:b,to:`${o}?${l(b)}`},a({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:b})))}),![1,2].includes(n)&&n<=e-3&&u.length+f.length<6&&[n-1,n,n+1].forEach(S=>{h.push(s().createElement(d.PageLink,{as:_.NavLink,key:S,number:S,to:`${o}?${l(S)}`},a({id:"components.pagination.go-to",defaultMessage:"Go to page {page}"},{page:S})))});const v=e>5||e===5&&(n===1||n===5),y=h.length>2&&n>4&&e>5,T=y?e-n-1:e-u.length-f.length,R=y?e-u.length-f.length:e-n-1;return s().createElement(d.Pagination,{activePage:n,pageCount:e},s().createElement(d.PreviousLink,{as:_.NavLink,to:`${o}?${i}`},a({id:"components.pagination.go-to-previous",defaultMessage:"Go to previous page"})),u,y&&s().createElement(d.Dots,null,a({id:"components.pagination.remaining-links",defaultMessage:"And {number} other links"},{number:T})),h,v&&s().createElement(d.Dots,null,a({id:"components.pagination.remaining-links",defaultMessage:"And {number} other links"},{number:R})),f,s().createElement(d.NextLink,{as:_.NavLink,to:`${o}?${c}`},a({id:"components.pagination.go-to-next",defaultMessage:"Go to next page"})))};Pt.propTypes={pagination:t().shape({pageCount:t().number.isRequired}).isRequired};var Zn=Pt,kt=require("react-select"),Xn=M.n(kt),xt=w()(d.Box)`
  background: transparent;
  border: none;
  position: relative;
  z-index: 1;

  svg {
    height: ${11/16}rem;
    width: ${11/16}rem;
  }

  svg path {
    fill: ${({theme:e})=>e.colors.neutral600};
  }
`,er=e=>{const r=kt.components.ClearIndicator;return s().createElement(r,{...e},s().createElement(xt,{as:"button",type:"button"},s().createElement(L.Cross,null)))};const tr=w()(xt)`
  display: flex;
  background: none;
  border: none;

  svg {
    width: ${9/16}rem;
  }
`;var nr=({innerRef:e,innerProps:r})=>s().createElement(tr,{ref:e,paddingRight:3,...r},s().createElement(L.CarretDown,null)),rr=()=>null,or=(e,r)=>({clearIndicator:n=>({...n,padding:0,paddingRight:e.spaces[3]}),container:n=>({...n,background:e.colors.neutral0,lineHeight:"normal"}),control(n,o){let a=e.colors.neutral200,l,c;return o.isFocused?(a=e.colors.primary600,l=e.colors.primary600):r&&(a=e.colors.danger600),o.isDisabled&&(c=`${e.colors.neutral150} !important`),{...n,fontSize:e.fontSizes[2],height:40,border:`1px solid ${a} !important`,outline:0,backgroundColor:c,borderRadius:e.borderRadius,boxShadow:l?`${l} 0px 0px 0px 2px`:0}},indicatorContainer:n=>({...n,padding:0,paddingRight:e.spaces[3]}),input:n=>({...n,margin:0,padding:0,color:e.colors.neutral800,gridTemplateColumns:"0 100%"}),menu(n){return{...n,width:"100%",marginTop:e.spaces[1],backgroundColor:e.colors.neutral0,color:e.colors.neutral800,borderRadius:e.borderRadius,border:`1px solid ${e.colors.neutral200}`,boxShadow:e.shadows.tableShadow,fontSize:e.fontSizes[2],zIndex:2}},menuList:n=>({...n,paddingLeft:e.spaces[1],paddingTop:e.spaces[1],paddingRight:e.spaces[1],paddingBottom:e.spaces[1]}),menuPortal:n=>({...n,zIndex:100}),option(n,o){let a=n.backgroundColor;return(o.isFocused||o.isSelected)&&(a=e.colors.primary100),{...n,color:e.colors.neutral800,lineHeight:e.spaces[5],backgroundColor:a,borderRadius:e.borderRadius,"&:active":{backgroundColor:e.colors.primary100}}},placeholder:n=>({...n,color:e.colors.neutral600,marginLeft:0,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",maxWidth:"80%"}),singleValue(n,o){let a=e.colors.neutral800;return o.isDisabled&&(a=e.colors.neutral600),{...n,marginLeft:0,color:a}},valueContainer:n=>({...n,cursor:"pointer",padding:0,paddingLeft:e.spaces[4],marginLeft:0,marginRight:0})});const ze=({components:e,styles:r,error:n,ariaErrorMessage:o,...a})=>{const l=(0,ve.useTheme)(),c=or(l,n);return s().createElement(Xn(),{menuPosition:"fixed",components:{ClearIndicator:er,DropdownIndicator:nr,IndicatorSeparator:rr,LoadingIndicator:()=>null,...e},"aria-errormessage":n&&o,"aria-invalid":!!n,styles:{...c,...r},...a})};var ar=ze;ze.defaultProps={ariaErrorMessage:void 0,components:void 0,error:void 0,styles:void 0},ze.propTypes={ariaErrorMessage:t().string,components:t().object,error:t().string,styles:t().object};var sr=ar,_t=require("date-fns");const We=({timestamp:e,customIntervals:r})=>{const{formatRelativeTime:n,formatDate:o,formatTime:a}=(0,P.useIntl)(),l=(0,_t.intervalToDuration)({start:e,end:Date.now()}),c=["years","months","days","hours","minutes","seconds"].find(f=>l[f]>0&&Object.keys(l).includes(f)),i=(0,_t.isPast)(e)?-l[c]:l[c],u=r.find(f=>l[f.unit]<f.threshold),m=u?u.text:n(i,c,{numeric:"auto"});return s().createElement("time",{dateTime:e.toISOString(),title:`${o(e)} ${a(e)}`},m)};We.propTypes={timestamp:t().instanceOf(Date).isRequired,customIntervals:t().arrayOf(t().shape({unit:t().oneOf(["years","months","days","hours","minutes","seconds"]).isRequired,text:t().string.isRequired,threshold:t().number.isRequired}))},We.defaultProps={customIntervals:[]};var ir=We;const Ve=({label:e,placeholder:r,trackedEvent:n,trackedEventDetails:o})=>{const a=(0,p.useRef)(null),l=(0,p.useRef)(null),[{query:c},i]=U(),[u,m]=(0,p.useState)(c?._q||""),[f,g]=(0,p.useState)(!!u),{formatMessage:h}=(0,P.useIntl)(),{trackUsage:v}=J(),y=()=>g(b=>!b);(0,p.useLayoutEffect)(()=>{f&&setTimeout(()=>{a.current.querySelector("input").focus()},0)},[f]);const T=()=>{m(""),i({_q:""},"remove")},R=b=>{b.preventDefault(),u?(n&&v(n,o),i({_q:encodeURIComponent(u),page:1})):(y(),i({_q:""},"remove"))};return f?s().createElement("div",{ref:a},s().createElement(d.SearchForm,{onSubmit:R},s().createElement(d.Searchbar,{name:"search",onChange:({target:{value:b}})=>m(b),value:u,clearLabel:h({id:"clearLabel",defaultMessage:"Clear"}),onClear:T,size:"S",placeholder:r},e))):s().createElement(d.IconButton,{ref:l,icon:s().createElement(d.Icon,{as:L.Search,color:"neutral800"}),label:h({id:"global.search",defaultMessage:"Search"}),onClick:y})};Ve.defaultProps={placeholder:void 0,trackedEventDetails:void 0,trackedEvent:null},Ve.propTypes={label:t().string.isRequired,placeholder:t().string,trackedEventDetails:t().object,trackedEvent:t().string};var lr=Ve,cr=require("react-helmet");const Ot=({name:e})=>{const{formatMessage:r}=(0,P.useIntl)(),n=r({id:"Settings.PageTitle",defaultMessage:"Settings - {name}"},{name:e});return s().createElement(cr.Helmet,{title:n})};Ot.propTypes={name:t().string.isRequired};var ur=Ot;const dr=w().div`
  margin-right: ${({theme:e})=>e.spaces[3]};
  width: ${6/16}rem;
  height: ${6/16}rem;
  border-radius: 50%;
  background: ${({theme:e,backgroundColor:r})=>e.colors[r]};
`,Qe=({variant:e})=>{const r=`${e}600`;return s().createElement(dr,{backgroundColor:r})};Qe.defaultProps={variant:"primary"},Qe.propTypes={variant:t().oneOf(["alternative","danger","neutral","primary","secondary","success","warning"])};var pr=Qe,Ft=(0,p.createContext)(),fr=()=>(0,p.useContext)(Ft),$t=require("react-dom");/**
 * @preserve
 * @typedef {Object} AutoReloadOverlayBlockerConfig
 * @property {string | undefined} title
 * @property {string | undefined} description
 * @property {'reload' | 'time' | undefined} icon
 *//**
 * @preserve
 * @typedef {Object} AutoReloadOverlayBlockerContextValue
 * @property {(config: AutoReloadOverlayBlockerConfig) => void} lockAppWithAutoreload
 * @property {() => void} unlockAppWithAutoreload
 *//**
 * @preserve
 * @type {React.Context<AutoReloadOverlayBlockerContextValue>}
 */const He=p.createContext(),mr=30*1e3,qt=({children:e})=>{const[r,n]=p.useState(!1),[o,a]=p.useState(void 0),[l,c]=p.useState(!1),i=p.useCallback((v=void 0)=>{n(!0),a(v)},[]),u=p.useCallback(()=>{n(!1),a(void 0)},[]);p.useEffect(()=>{if(r){const v=setTimeout(()=>{c(!0)},mr);return()=>{clearTimeout(v)}}},[r]);let m=o?.icon||"reload",f={id:o?.description||"components.OverlayBlocker.description",defaultMessage:"You're using a feature that needs the server to restart. Please wait until the server is up."},g={id:o?.title||"components.OverlayBlocker.title",defaultMessage:"Waiting for restart"};l&&(m="time",f={id:"components.OverlayBlocker.description.serverError",defaultMessage:"The server should have restarted, please check your logs in the terminal."},g={id:"components.OverlayBlocker.title.serverError",defaultMessage:"The restart is taking longer than expected"});const h=p.useMemo(()=>({lockAppWithAutoreload:i,unlockAppWithAutoreload:u}),[i,u]);return p.createElement(He.Provider,{value:h},p.createElement(wt,{displayedIcon:m,isOpen:r,description:f,title:g}),e)};qt.propTypes={children:t().element.isRequired};const wt=({displayedIcon:e="reload",description:r,title:n,isOpen:o})=>{const{formatMessage:a}=(0,P.useIntl)();return o&&globalThis?.document?.body?(0,$t.createPortal)(p.createElement(vr,{id:"autoReloadOverlayBlocker",direction:"column",alignItems:"center",gap:6},p.createElement(d.Flex,{direction:"column",alignItems:"center",gap:2},p.createElement(d.Typography,{as:"h1",variant:"alpha"},a(n)),p.createElement(d.Typography,{as:"h2",textColor:"neutral600",fontSize:4,fontWeight:"regular"},a(r))),e==="reload"&&p.createElement(At,{padding:6,background:"primary100",borderColor:"primary200"},p.createElement(hr,{width:j(36),height:j(36)})),e==="time"&&p.createElement(At,{padding:6,background:"primary100",borderColor:"primary200"},p.createElement(L.Clock,{width:j(40),height:j(40)})),p.createElement(d.Box,{marginTop:2},p.createElement(Z.Link,{href:"https://docs.strapi.io",isExternal:!0},a({id:"global.documentation",defaultMessage:"Read the documentation"})))),globalThis.document.body):null};wt.propTypes={displayedIcon:t().string.isRequired,description:t().object.isRequired,isOpen:t().bool.isRequired,title:t().object.isRequired};const gr=ve.keyframes`
    from {
      transform: rotate(0deg);
    }
    to {
      transform: rotate(359deg);
    }
  `,hr=w()(L.Refresh)`
  animation: ${gr} 1s infinite linear;
`,vr=w()(d.Flex)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  /* TODO: set this up in the theme for consistence z-index values */
  z-index: 1140;
  padding-top: ${j(160)};

  & > * {
    position: relative;
    z-index: 1;
  }

  &:before {
    content: '';
    position: fixed;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
    background: ${({theme:e})=>e.colors.neutral0};
    opacity: 0.9;
  }
`,At=w()(d.Box)`
  border-radius: 50%;
  svg {
    > path {
      fill: ${({theme:e})=>e.colors.primary600} !important;
    }
  }
`;/**
 * @preserve
 * @returns {AutoReloadOverlayBlockerContextValue}
 */const yr=()=>p.useContext(He);/**
 * @preserve
 * @typedef {Object} CustomField
 * @property {string} name - The name of the custom field
 * @property {string} pluginId - The plugin id of the custom field
 * @property {string} type - The type of the custom field
 * @property {import('react-intl').MessageDescriptor} intlLabel
 * @property {import('react-intl').MessageDescriptor} intlDescription
 * @property {unknown} components
 * @property {unknown} options
 * @property {import('react').ComponentType} icon
 *//**
 * @preserve
 * @typedef {Object} CustomFieldsContextValue
 * @property {(uid: string) => CustomField | undefined} get
 * @property {() => Record<string, CustomField>} getAll
 *//**
 * @preserve
 * @type {React.Context<CustomFieldsContextValue>}
 */const Ge=p.createContext({get(){},getAll(){}}),Dt=({children:e,customFields:r})=>{const n=r.get.bind(r),o=r.getAll.bind(r),a=p.useMemo(()=>({get:n,getAll:o}),[n,o]);return p.createElement(Ge.Provider,{value:a},e)};Dt.propTypes={children:t().node.isRequired,customFields:t().shape({get:t().func.isRequired,getAll:t().func.isRequired}).isRequired};/**
 * @preserve
 * @returns {CustomFieldsContextValue}
 */const Er=()=>p.useContext(Ge);/**
 * @preserve
 * @typedef {Object} GuidedTourContextValue
 * @property {string} currentStep
 * @property {Object} guidedTourState
 * @property {boolean} isGuidedTourVisible
 * @property {boolean} isSkipped
 * @property {(step: string) => void} setCurrentStep
 * @property {(isVisible: boolean) => void} setGuidedTourVisibility
 * @property {(isSkipped: boolean) => void} setSkipped
 * @property {(step: string, state: { create: boolean; success: boolean }) => void} setStepState
 * @property {(section: string) => void} startSection
 *//**
 * @preserve
 * @type {React.Context<GuidedTourContextValue>}
 */const Je=p.createContext(),Ke=({children:e,currentStep:r,guidedTourState:n,isGuidedTourVisible:o,isSkipped:a,setCurrentStep:l,setGuidedTourVisibility:c,setSkipped:i,setStepState:u,startSection:m})=>{const f=p.useMemo(()=>({currentStep:r,guidedTourState:n,isGuidedTourVisible:o,isSkipped:a,setCurrentStep:l,setGuidedTourVisibility:c,setSkipped:i,setStepState:u,startSection:m}),[r,n,o,a,l,c,i,u,m]);return p.createElement(Je.Provider,{value:f},e)};Ke.defaultProps={currentStep:null,isGuidedTourVisible:!1},Ke.propTypes={children:t().node.isRequired,currentStep:t().string,guidedTourState:t().objectOf(t().shape({create:t().bool,success:t().bool})).isRequired,isGuidedTourVisible:t().bool,isSkipped:t().bool.isRequired,setCurrentStep:t().func.isRequired,setGuidedTourVisibility:t().func.isRequired,setSkipped:t().func.isRequired,setStepState:t().func.isRequired,startSection:t().func.isRequired};/**
 * @preserve
 * @returns {GuidedTourContextValue}
 */const br=()=>p.useContext(Je);/**
 * @preserve
 * @typedef {Object} LibraryContextValue
 * @property {Record<string, React.ComponentType>} fields
 * @property {Record<string, React.ComponentType>} components
 *//**
 * @preserve
 * @type {React.Context<LibraryContextValue>} LibraryContext
 */const Ze=p.createContext(),jt=({children:e,fields:r,components:n})=>{const o=p.useMemo(()=>({fields:r,components:n}),[r,n]);return p.createElement(Ze.Provider,{value:o},e)};jt.propTypes={children:t().node.isRequired,components:t().object.isRequired,fields:t().object.isRequired};/**
 * @preserve
 * @returns {LibraryContextValue}
 */const Tr=()=>p.useContext(Ze);/**
 * @preserve
 * @typedef {Object} OverlayBlockerContextValue
 * @property {() => void} lockApp
 * @property {() => void} unlockApp
 *//**
 * @preserve
 * @type {React.Context<OverlayBlockerContextValue>}
 */const Xe=p.createContext(),Bt=({children:e})=>{const[r,n]=p.useState(!1),o=p.useCallback(()=>{n(!0)},[]),a=p.useCallback(()=>{n(!1)},[]),l=p.useMemo(()=>({lockApp:o,unlockApp:a}),[o,a]);return p.createElement(Xe.Provider,{value:l},e,r&&globalThis?.document?.body?(0,$t.createPortal)(p.createElement(Sr,{id:"overlayBlocker"}),globalThis.document.body):null)};Bt.propTypes={children:t().node.isRequired};const Sr=w()(d.Box)`
  position: fixed;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  /* TODO: set this up in the theme for consistence z-index values */
  z-index: 1140;
`;/**
 * @preserve
 * @returns {OverlayBlockerContextValue}
 */const Ir=()=>p.useContext(Xe),Rr="apiError.";function Nt(e,r){const n=`${Rr}${e}`;return typeof r=="function"?r(n):n}function Ut(e,{name:r,intlMessagePrefixCallback:n}){const{message:o,path:a}=e;return{id:Nt(o,n),defaultMessage:o,name:e?.name??r,values:{path:a?.join(".")}}}function et(e,r){const{error:n}=e.response.data;return n?.details?.errors?{name:n.name,errors:n.details.errors.map(o=>Ut(o,{name:n.name,intlMessagePrefixCallback:r}))}:Ut(n,{intlMessagePrefixCallback:r})}function Cr(e,{formatMessage:r,intlMessagePrefixCallback:n}){if(!r)throw new Error("The formatMessage callback is a mandatory argument.");const o=et(e,n);return o?.errors?o.errors.map(({id:a,defaultMessage:l,values:c})=>r({id:a,defaultMessage:l},c)).join(`
`):r(o)}function Mr(e,{intlMessagePrefixCallback:r,formatMessage:n}){const{code:o,message:a}=e;return n({id:Nt(a,r),defaultMessage:a,values:{code:o}})}function Lr(e){const{formatMessage:r}=(0,P.useIntl)();return{formatAPIError(n){try{return Cr(n,{intlMessagePrefixCallback:e,formatMessage:r})}catch{if(n instanceof it.AxiosError)return Mr(n,{intlMessagePrefixCallback:e,formatMessage:r});throw new Error("formatAPIError: Unknown error:",n)}}}}const Pr=()=>({copy:(0,p.useCallback)(async r=>{try{if(typeof r!="string"&&typeof r!="number")throw new Error(`Cannot copy typeof ${typeof r} to clipboard, must be a string`);if(r==="")throw new Error("Cannot copy empty string to clipboard.");const n=r.toString();return await navigator.clipboard.writeText(n),!0}catch{return!1}},[])});let tt=new Map;function Yt(e,r){let n=e+(r?Object.entries(r).sort((a,l)=>a[0]<l[0]?-1:1).join():"");if(tt.has(n))return tt.get(n);let o=new Intl.Collator(e,r);return tt.set(n,o),o}var zt=()=>{const e=(0,p.useRef)(null);return e.current===null&&(e.current=new AbortController),(0,p.useEffect)(()=>()=>{e.current.abort()},[]),(0,p.useMemo)(()=>ge({signal:e.current.signal}),[])};function kr(e,r){let n=Yt(e,{usage:"search",...r});return{startsWith(o,a){return a.length===0?!0:(o=o.normalize("NFC"),a=a.normalize("NFC"),n.compare(o.slice(0,a.length),a)===0)},endsWith(o,a){return a.length===0?!0:(o=o.normalize("NFC"),a=a.normalize("NFC"),n.compare(o.slice(-a.length),a)===0)},includes(o,a){if(a.length===0)return!0;o=o.normalize("NFC"),a=a.normalize("NFC");let l=0,c=a.length;for(;l+c<=o.length;l++){let i=o.slice(l,l+c);if(n.compare(a,i)===0)return!0}return!1}}}var xr=(e="main",r=[])=>{(0,p.useEffect)(()=>{const n=document.querySelector(e);n?(n.focus(),window.scrollTo({top:0})):console.warn(`[useFocusWhenNavigate] The page does not contain the selector "${e}" and can't be focused.`)},r)},_r=e=>{(0,p.useEffect)(()=>(e&&document.body.classList.add("lock-body-scroll"),()=>{document.body.classList.remove("lock-body-scroll")}),[e])},Or=(e,r)=>{const[n,o]=(0,p.useState)(()=>{const a=window.localStorage.getItem(e);if(a!==null)try{return JSON.parse(a)}catch{return a}return r});return(0,p.useEffect)(()=>{window.localStorage.setItem(e,JSON.stringify(n))},[e,n]),[n,o]},Fr=()=>new URLSearchParams((0,_.useLocation)().search),$r=require("react-query");const qr=(e,r)=>{const[n,o]=(0,p.useState)(!1),a=(0,p.useMemo)(()=>Object.keys(e).map(y=>({name:y,hasPermission:!1})),[e]),{allPermissions:l}=X(),{post:c}=zt(),i=r||l,u=Object.entries(e),m=(0,$r.useQueries)(u.map(([y,T])=>({queryKey:["useRBAC",y,T.map(({action:R,subject:b})=>({action:R,subject:b}))],async queryFn(){if(!T||!T.length)return{name:y,hasPermission:!0};const R=i.filter(b=>T.find(E=>E.action===b.action&&E.subject===b.subject)!==void 0);if(R.length>0&&R.every(b=>Array.isArray(b.conditions)&&b.conditions.length>0))try{const{data:{data:b}}=await c("/admin/permissions/check",{permissions:R.map(({action:S,subject:E})=>({action:S,subject:E}))});return{name:y,hasPermission:Array.isArray(b)&&b.every(S=>S===!0)}}catch{return{name:y,hasPermission:!1}}return{name:y,hasPermission:R.length>0}}}))),f=(0,p.useCallback)(()=>{o(!0)},[]),g=n||m.some(y=>y.isLoading),h=m.map(y=>y.data);return{allowedActions:(h.some(y=>y===void 0)?a:h).reduce((y,{name:T,hasPermission:R})=>(y[`can${wr(T)}`]=R,y),{}),isLoading:g,setIsLoading:f}},wr=e=>e.charAt(0).toUpperCase()+e.slice(1),Ar=(e,r)=>{const[n,o]=(0,p.useState)(r);return[n,{selectOne:m=>{const f=n.findIndex(g=>e.every(h=>g[h]===m[h]));f>-1?o(g=>[...g.slice(0,f),...g.slice(f+1)]):o(g=>[...g,m])},selectAll:m=>{n.length>0?o([]):o(m)},selectOnly:m=>{n.indexOf(m)>-1?o([]):o([m])},selectMultiple:m=>{o(f=>[...f,...m.filter(g=>f.findIndex(h=>e.every(v=>h[v]===g[v]))===-1)])},deselectMultiple:m=>{o(f=>[...f.filter(g=>m.findIndex(h=>e.every(v=>g[v]===h[v]))===-1)])},setSelections:o}]},Dr=w()(d.IconButton)(({theme:e})=>`
  border-radius: ${j(30)};
  width: ${j(20)};
  height: ${j(20)};
  padding: ${j(3)};
  align-items: center;
  justify-content: center;
  svg {
    width: ${j(8)};
    rect {
      fill: ${e.colors.primary600}
    }
  }
`);var jr=e=>s().createElement(Dr,{icon:s().createElement(L.Minus,null),...e});const Br=["createdBy","updatedBy","publishedAt","id","_id"];var Nr=(e,r,n,o=Br)=>{const a=(l,c)=>Object.keys(l).reduce((i,u)=>{const m=ie(c,u),f=V()(l,u),g=Q(c,[u,"component"]),h=Q(c,[u,"repeatable"]);let v=V()(c,["options","timestamps"]);return Array.isArray(v)||(v=[]),[...o,...v].indexOf(u)!==-1?(delete i[u],i):f?m==="dynamiczone"?(i[u]=f.map(y=>a(y,n[y.__component])),i):(m==="component"&&(h?i[u]=f.map(y=>a(y,n[g])):i[u]=a(f,n[g])),i):i},Object.assign({},l));return a(e,r)},Ur=(e,r,n)=>{const o=(a,l)=>Object.keys(a).reduce((c,i)=>{const u=ie(l,i),m=V()(a,i),f=Q(l,[i,"component"]),g=Q(l,[i,"repeatable"]);if(u==="json"&&m!==void 0)return c[i]=JSON.stringify(m,null,2),c;if(!m)return c[i]=m,c;if(u==="dynamiczone")return c[i]=m.map(h=>o(h,n[h.__component])),c;if(u==="component"){let h;return g?h=m.map((v,y)=>{const T={...v,__temp_key__:y};return o(T,n[f])}):h=o(m,n[f]),c[i]=h,c}return c[i]=m,c},{});return o(e,r)},Yr=(e,r)=>e.then(function(n){return[null,n]}).catch(function(n){return r&&Object.assign(n,r),[n,void 0]}),zr=require("lodash/isEqual"),Wr=M.n(zr),Vr=require("lodash/isObject"),Wt=M.n(Vr);function Qr(e,r){function n(o,a){return st()(o,function(l,c,i){Wr()(c,a[i])||(l[i]=Wt()(c)&&Wt()(a[i])?n(c,a[i]):c)})}return n(e,r)}var Hr=Qr;function Gr(e,{getTrad:r}){const n=et(e,r);return n?.errors?n.errors.reduce((o,a)=>(o[a.values.path]={id:a.id,defaultMessage:a.defaultMessage},o),{}):n.defaultMessage}var Jr=e=>e&&e[0]==="."?e.substr(1):e;const Kr=(e,r)=>!e||!r?{}:{[e]:r[e]};var Zr=e=>(e?.inner||[]).reduce((r,n)=>(r[n.path.split("[").join(".").split("]").join("")]={id:n.message,defaultMessage:n.message,values:Kr(n?.type,n?.params)},r),{}),Xr=e=>e&&e.startsWith("/")?`${strapi.backendURL}${e}`:e,eo=(e,r)=>Object.keys(e).reduce((n,o)=>(n[`${r}.${o}`]=e[o],n),{}),to=require("lodash/startsWith"),no=M.n(to);const ro="[@strapi/helper-plugin]:",oo=e=>{const r=e;let n=!1;if(typeof r!="function")throw new TypeError(`${ro} once requires a function parameter`);return(...o)=>{n||(r(...o),n=!0)}};function Vt(e){return e.json?e.json():e}function ao(e,r=!0){return e.status>=200&&e.status<300||e.status===0?e:(e.status===401&&z.getToken()&&r&&(z.clearAppStorage(),window.location.reload()),Vt(e).then(n=>{const o=new Error(e.statusText);throw o.response=e,o.response.payload=n,o}).catch(()=>{const n=new Error(e.statusText);throw n.response=e,n}))}function so(e){return Object.keys(e).map(r=>`${encodeURIComponent(r)}=${encodeURIComponent(e[r])}`).join("&")}function Qt(e){return new Promise(r=>{fetch(`${strapi.backendURL}/_health`,{method:"HEAD",mode:"no-cors",headers:{"Content-Type":"application/json","Keep-Alive":!1}}).then(n=>{if(n.status>=400)throw new Error("not available");r(e)}).catch(()=>{setTimeout(()=>Qt(e).then(r),100)})})}const io=oo(console.warn);function lo(...e){let[r,n={},o,a=!0,...l]=e,c;io("The `request` function is deprecated and will be removed in the next major version. Please use `useFetchClient` instead.");try{[{noAuth:c}]=l}catch{c=!1}n.headers||(n.headers=Object.assign({"Content-Type":"application/json"},n.headers));const i=z.getToken();if(i&&!c&&(n.headers=Object.assign({Authorization:`Bearer ${i}`},n.headers)),r=no()(r,"/")?`${strapi.backendURL}${r}`:r,n&&n.params){const u=so(n.params);r=`${r}?${u}`}return n&&n.body&&a&&(n.body=JSON.stringify(n.body)),fetch(r,n).then(ao).then(Vt).then(u=>o?Qt(u):u)}var co=(e,r)=>`${e}${Math.floor(r*255).toString(16).padStart(2,0)}`;const Ht={onClick:e=>e.stopPropagation(),role:"button","aria-hidden":!0},uo=({fn:e,condition:r=!0})=>{if(r)return{style:{cursor:"pointer"},onClick:e}},po=()=>s().createElement("div",{...Ht});var fo={email:"components.Input.error.validation.email",json:"components.Input.error.validation.json",lowercase:"components.Input.error.validation.lowercase",max:"components.Input.error.validation.max",maxLength:"components.Input.error.validation.maxLength",min:"components.Input.error.validation.min",minLength:"components.Input.error.validation.minLength",regex:"components.Input.error.validation.regex",required:"components.Input.error.validation.required",unique:"components.Input.error.validation.unique",integer:"component.Input.error.validation.integer"};function mo(e){return e}var go=mo,Gt=exports;for(var Jt in W)Gt[Jt]=W[Jt];W.__esModule&&Object.defineProperty(Gt,"__esModule",{value:!0})})();
